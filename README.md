# Отчет по домашнему заданию
# 1. Условие задачи
Разработать программу «строковый калькулятор», которая выполняет вычисление произвольного математического выражения, введённого пользователем в виде строки.
Программа должна поддерживать:
 • операции + - * /,
 • вещественные и целые числа,
 • поддержка скобок (),
 • проверка правильности выражения,
 • обработка ошибок,
 • функции: sin, cos, tg, ctg, exp,
 • переменная x,
 • запрос значения x у пользователя,
 • вычисление результата с подстановкой переменной
 # 2. Схема алгоритма
Основной алгоритм
1. Ввод строки выражения
2. Проверка наличия переменной x
Если x есть: запросить её значение
3. Преобразование выражения в ОПН (алгоритм Дейкстры)
 • удаление пробелов
 • выделение чисел, функций, операторов
 • учёт приоритетов
 • учёт скобок
4. Вычисление выражения в ОПН
 • если токен число → в стек
 • если x → подставить значение
 • если функция → применить к последнему значению
 • если оператор → извлечь 2 числа, применить, положить назад
5. Результат = единственное значение в стеке
6. Вывод результата
*При вычислении математических выражений важно учитывать приоритет операций и скобки.
Один из самых удобных форматов представления выражения — Обратная Польская нотация, или ОПН.
Польская нотация — это способ записи выражений без скобок, предложенный логиком Янушем Лукасевичем.
В обычной инфиксной записи оператор стоит между операндами.В польской записи оператор ставится перед числами,в обратной польской нотации оператор ставится после операндов.

Чтобы преобразовать обычное математическое выражение в ОПН, используют алгоритм Дейкстры, предложенный Эдсгером Дейкстрой.
Основная идея алгоритма:
строка в обычной инфиксной записи:
3 + 4 * 2 / (1 - 5)
Выход:
3 4 2 * 1 5 - / +
# 3. Контрольный расчёт
Возьмём выражение:
cos(x-5)*10/(2*x-5)
Подставим x = 5.
Подготовка: 
x - 5 = 5 - 5 = 0
cos(0) = 1
Выражение превращается в:
1 * 10 / (2*5 - 5)
Считаем знаменатель:
2*5 - 5 = 10 - 5 = 5
Деление: 10 / 5 = 2
Ответ: 2
# 4. Выводы
В ходе выполнения работы была разработана программа-«строковый калькулятор», поддерживающая вычисление сложных математических выражений, содержащих:
 • арифметические операции + - * /,
 • функции sin, cos, tg, ctg, exp,
 • скобки и приоритет операций,
 • переменную x и её подстановку,
 • обработку ошибок синтаксиса.
Для обработки выражения использован алгоритм Дейкстры (сортировочная станция) и вычисление выражения в обратной польской нотации.
